c programming: more malloc and free